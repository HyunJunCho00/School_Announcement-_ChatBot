# 🏫 School_Announcement_ChatBot

### 🚀 성능 향상을 위한 리팩토링
학교 공지 챗봇은 성능, 효율성, 그리고 전반적인 사용자 경험 개선에 중점을 둔 대대적인 리팩토링을 거쳤다. 이번 개편의 주된 목표는 응답 시간을 단축하고 정보 검색의 정확성을 높이는 것이다.

### ✨ 주요 리팩토링 하이라이트
1. 벡터 데이터베이스 전환: Pinecone에서 FAISS (IVFSQ 적용)
메인 벡터 데이터베이스를 Pinecone에서 **FAISS (Facebook AI Similarity Search)**로 전환했다. 이 변화는 FAISS의 효율성과 로컬 배포 가능성 때문에 추진되었으며, 이를 통해 더 많은 제어와 낮은 지연 시간을 얻을 수 있다. 검색 성능과 메모리 사용량을 더욱 최적화하기 위해, FAISS 내에서 벡터 양자화 기법인 **IVFSQ (Inverted File System with Scalar Quantization)**를 구현했다.

2. LLM 모델 업그레이드: Upstage에서 Google Gemini 2.0
챗봇의 핵심인 자연어 이해 및 생성 기능은 Upstage 모델에서 Google Gemini  2.0로 업그레이드되었다. 이 강력한 새 모델은 챗봇이 복잡한 질의를 이해하고 더욱 일관성 있고 맥락에 맞는 응답을 생성하는 능력을 크게 향상시킨다.

3. 임베딩 모델 개선: nlpai-lab/KURE-v1
텍스트로부터 벡터 임베딩을 생성하기 위해 nlpai-lab/KURE-v1 Sentence Transformer 모델을 채택했다. 이 전문 임베딩 모델은 더 정확하고 관련성 높은 벡터 표현을 제공하여 검색 결과 개선에 기여한다.

4. 하이브리드 검색 구현: BM25 + 임베딩
검색 정확도와 재현율을 극대화하기 위해 두 가지 고유한 접근 방식의 장점을 결합한 하이브리드 검색 방식을 구현했다:

BM25 (Okapi BM25): 키워드 일치에 탁월한 통계 검색 함수이다.

벡터 임베딩: 새로운 nlpai-lab/KURE-v1 임베딩을 사용하여 질의의 의미와 맥락을 기반으로 한 시맨틱 검색이다.
이러한 조합은 정확한 키워드 일치와 의미론적으로 유사한 결과를 모두 고려하여, 더욱 포괄적이고 정확한 답변을 제공한다.

5. 평가지표의 도입

기존에는 사용자가 원하는 질문인지 직접 판단하여 정확도를 매겼는데, 수작업이기 때문에 시간적으로 낭비를 많이 했었다.
이에, LLM as a judge와 같은 평가를 자동화하는 기법을 도입하거나, 다른 평가지표를 도입해 편하게 정확도를 측정해보고자 한다.
⚡️ 기대 성능 향상
이번 리팩토링의 기대하는 성능 향상은 응답 시간의 극적인 단축이다. 이전에는 답변을 생성하는 데 3초에서 길게는 10초까지 걸릴 수 있었다. 새로운 아키텍처와 최적화를 통해 이제 챗봇은 1초에서 3초 이내에 일관적으로 답변을 제공하여 사용자 경험을 크게 향상시킨다. 
또한 정확성도 기존 200개 테스트지에서 80~85%의 정확도를 보인 챗봇의 성능을 90%는 넘기는 것을 목표로 하고 있다.
